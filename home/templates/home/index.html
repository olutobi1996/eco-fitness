{% extends "base.html" %}
{% load static %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
  <canvas id="ecoCanvas"></canvas>
  <div class="container">
  <div class="hero-content-wrapper">
    <div class="hero-content">
      <h1>Transform Your Fitness, Sustainably</h1>
      <p>Join our <strong>eco-friendly fitness community</strong>, shop sustainable <strong>merchandise</strong>, and achieve your <strong>health goals</strong>.</p>
      <a href="{% url 'plans' %}" class="btn-primary"><strong>Explore Plans</strong></a>
    </div>
  </div>
  </div>
</section>

<!-- Categories Section -->
<section class="categories-section">
  <div class="container">
    <h2 class="section-title"><strong>Our Services</strong></h2>
    <div class="row">
      <div class="col">
        <div class="card">
          <h5><strong>Fitness & Diet Plans</strong></h5>
          <p>Custom <strong>workout</strong> and <strong>meal plans</strong> tailored for you.</p>
          <a href="/plans" class="btn-primary"><strong>Get Started</strong></a>
        </div>
      </div>
      <div class="col">
        <div class="card">
          <h5><strong>Workout Reviews</strong></h5>
          <p>See how others are progressing and share your <strong>journey</strong>.</p>
          {% if product and product.id %}
          <a href="{% url 'products:product_reviews_by_id' product.id %}" class="btn-primary"><strong>View Reviews</strong></a>
          {% else %}
          <p>No product available to view reviews.</p>
          {% endif %}
        </div>
      </div>
      <div class="col">
        <div class="card">
          <h5><strong>Eco-Friendly Shop</strong></h5>
          <p>Sustainable <strong>fitness gear</strong> and <strong>apparel</strong>.</p>
          <a href="{% url 'products:all_products' %}" class="btn-primary"><strong>Shop Now</strong></a>
        </div>
      </div>
      <div class="col">
        <div class="card">
          <h5><strong>Join the Community</strong></h5>
          <p>Connect with like-minded <strong>fitness enthusiasts</strong>.</p>
          <a href="{% url 'community' %}" class="btn-primary"><strong>Join Now</strong></a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Featured Products -->
<section class="container-fluid my-5">
  <div class="container">
    <h2 class="text-center mb-4"><strong>Featured Merchandise</strong></h2>
    <div class="row g-4">
      {% if products %}
        {% for product in products %}
        <div class="col-md-4">
          <div class="card shadow-sm">
            <div class="card-body text-center">
              <h5 class="card-title"><strong>{{ product.name }}</strong></h5>
              <p class="card-text">${{ product.price }}</p>
              <a href="{% url 'products:product_detail' product.id %}" class="btn btn-outline-success"><strong>Buy Now</strong></a>
            </div>
          </div>
        </div>
        {% endfor %}
      {% else %}
      <div class="text-center">
        <h5><strong>Looking for something inspiring?</strong></h5>
        <p>We are curating the best eco-friendly fitness gear just for you! üå±üèãÔ∏è‚Äç‚ôÇÔ∏è</p>
        <a href="{% url 'products:all_products' %}" class="btn btn-success mt-3"><strong>Browse All Products</strong></a>
      </div>
      {% endif %}
    </div>
  </div>
</section>

<!-- Testimonials Section -->
<section class="bg-light py-5">
  <div class="container">
    <h2 class="text-center mb-4"><strong>What Our Customers Say</strong></h2>
    <div class="row">
      <div class="col-md-4">
        <div class="card shadow-sm p-3">
          <p>"The <strong>meal plans</strong> helped me lose 10lbs in 2 months! Amazing <strong>community</strong>!"</p>
          <h6 class="text-end"><strong>- Sarah W.</strong></h6>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card shadow-sm p-3">
          <p>"Sustainable <strong>fitness gear</strong> that actually performs. Love my eco yoga mat!"</p>
          <h6 class="text-end"><strong>- John D.</strong></h6>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card shadow-sm p-3">
          <p>"The <strong>workout reviews</strong> keep me motivated every day. Best fitness site ever!"</p>
          <h6 class="text-end"><strong>- Alex P.</strong></h6>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Join Community CTA -->
<section class="container-fluid text-center my-5">
  <div class="container">
    <h2><strong>Be Part of the Movement</strong></h2>
    <p>Connect with other <strong>fitness enthusiasts</strong>, share progress, and support each other.</p>
    <a href="/community" class="btn btn-success btn-lg"><strong>Join the Community</strong></a>
  </div>
</section>

<script>
const canvas = document.getElementById('ecoCanvas');
const ctx = canvas.getContext('2d');

function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener('resize', resizeCanvas);

class Particle {
  constructor(x, y, size, speedY, symbol) {
    this.x = x;
    this.y = y;
    this.size = size;
    this.speedY = speedY;
    this.symbol = symbol;
  }

  update() {
    this.y += this.speedY;
    if (this.y > canvas.height) {
      this.y = -this.size;
      this.x = Math.random() * canvas.width;
    }
  }

  draw() {
    ctx.font = `${this.size}px Arial`;
    ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
    ctx.fillText(this.symbol, this.x, this.y);
  }
}

const symbols = ['üçÉ', 'üèãÔ∏è']; // Leaves and dumbbells

let particles = [];

function initParticles(count = 50) {
  particles = [];
  for (let i = 0; i < count; i++) {
    let size = Math.random() * 24 + 12;
    let x = Math.random() * canvas.width;
    let y = Math.random() * canvas.height;
    let speedY = Math.random() * 1 + 0.5;
    let symbol = symbols[Math.floor(Math.random() * symbols.length)];
    particles.push(new Particle(x, y, size, speedY, symbol));
  }
}

function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  particles.forEach(p => {
    p.update();
    p.draw();
  });
  requestAnimationFrame(animate);
}

initParticles();
animate();
</script>
{% endblock %}
